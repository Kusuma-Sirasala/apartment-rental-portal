<!DOCTYPE html>
<html>
<head>
  <title>Register | Apartment Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen flex items-center justify-center bg-gray-100">

  <div class="bg-white w-96 p-6 rounded shadow">
    <h2 class="text-2xl font-bold text-center mb-4">Register</h2>

    <input id="name" class="border w-full p-2 mb-3" placeholder="Name">
    <input id="email" class="border w-full p-2 mb-3" placeholder="Email">
    <input id="password" type="password" class="border w-full p-2 mb-3" placeholder="Password">
    <input id="phone" class="border w-full p-2 mb-3" placeholder="Phone">

    <button id="registerBtn" class="bg-green-600 text-white w-full py-2 rounded">
      Register
    </button>

    <p id="registerMsg" class="text-center text-green-600 mt-3"></p>

    <p class="text-center mt-3 text-sm">
      Already have an account?
      <a href="login.html" class="text-blue-600">Login</a>
    </p>
  </div>

<script>
const API_URL = "http://127.0.0.1:5000/api";

document.getElementById("registerBtn").addEventListener("click", async () => {
  const res = await fetch(`${API_URL}/register`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      name: name.value,
      email: email.value,
      password: password.value,
      phone: phone.value
    })
  });

  const data = await res.json();
  registerMsg.innerText = data.message;
});
</script>

</body>
</html>